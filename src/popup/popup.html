<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { width: 340px; padding: 15px; font-family: 'Segoe UI', sans-serif; background: #f8f9fa; }
    .card { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
    h2 { margin: 0 0 15px 0; text-align: center; font-size: 18px; color: #333; }
    
    textarea {
      width: 100%; height: 100px; padding: 10px;
      border: 2px solid #eee; border-radius: 8px;
      box-sizing: border-box; font-family: monospace; font-size: 11px;
      resize: vertical; margin-bottom: 5px; white-space: pre;
    }
    textarea:focus { border-color: #7928CA; outline: none; }

    .key-meter { margin-bottom: 15px; }
    .progress-bg { height: 6px; background: #eee; border-radius: 3px; overflow: hidden; }
    .progress-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #ff5722, #4caf50); transition: width 0.3s; }
    .key-count { font-size: 11px; color: #666; text-align: right; margin-top: 3px; }

    .btn-group { display: flex; gap: 10px; }
    button {
      flex: 1; padding: 10px; border: none; border-radius: 8px;
      cursor: pointer; font-weight: bold; color: white;
      transition: transform 0.1s;
    }
    button:active { transform: scale(0.98); }
    #save { background: #212121; }
    #check { background: #2196F3; }
    
    #status { margin-top: 10px; font-size: 12px; text-align: center; display: none; }
    
    #checkResults {
        margin-top: 10px; max-height: 150px; overflow-y: auto;
        font-size: 11px; border-top: 1px solid #eee; padding-top: 5px;
    }
    .key-row { display: flex; justify-content: space-between; padding: 3px 0; border-bottom: 1px solid #f5f5f5; }
    .key-ok { color: green; font-weight: bold; }
    .key-bad { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <div class="card">
    <h2>üîë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏</h2>
    
    <label style="font-size: 12px; font-weight: bold;">–°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</label>
    <textarea id="apiKeysInput" placeholder="AIzaSy..."></textarea>
    
    <div class="key-meter">
      <div class="progress-bg"><div class="progress-fill" id="keyProgress"></div></div>
      <div class="key-count" id="keyCountText">0 –∫–ª—é—á–µ–π</div>
    </div>

    <div class="btn-group">
        <button id="save">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button id="check">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    </div>

    <div id="status"></div>
    <div id="checkResults"></div>
  </div>
  <script src="popup.js"></script>
</body>
</html>