<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
  <!-- Подключаем иконки (можно локальные или CDN) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>

  <!-- ГЛАВНЫЙ ЭКРАН (МАСКИРОВКА) -->
  <div id="main-view">
    <div class="header">
      <div class="logo">
        <i class="fas fa-shield-alt logo-icon"></i>
        <span>adguard</span>
      </div>
      <div class="icons">
        <i class="fas fa-sync-alt" id="refresh-stats"></i>
        <i class="fas fa-pause"></i>
        <i class="fas fa-cog" id="open-settings" title="Настройки"></i>
      </div>
    </div>

    <div class="status-container">
      <div class="site-name" id="current-site">youtube.com</div>
      <div class="blocked-count">Blocked: <span id="solve-count">0</span></div>
      <div class="total-blocked">Total blocked: <span id="total-count">240,002</span></div>
      
      <!-- ГЛАВНАЯ КНОПКА (Вкл/Выкл бота) -->
      <div class="toggle-wrapper">
        <div class="toggle-circle" id="master-switch">
          <i class="fas fa-check"></i>
        </div>
      </div>
    </div>

    <div class="menu-list">
      <div class="menu-item" id="manual-solve">
        <i class="fas fa-crosshairs item-icon" style="color: #ff7e67;"></i>
        <span>Block ads manually (Alt+Click)</span>
      </div>
      <div class="menu-item">
        <i class="fas fa-bars item-icon" style="color: #67b279;"></i>
        <span>Open filtering log</span>
      </div>
      <div class="menu-item">
        <i class="fas fa-thumbs-down item-icon" style="color: #eebb4d;"></i>
        <span>Report an issue</span>
      </div>
    </div>
    
    <div class="footer">
      Protect your mobile device
      <div class="os-icons">
        <i class="fab fa-apple"></i>
        <i class="fab fa-android"></i>
      </div>
    </div>
  </div>

  <!-- ЭКРАН НАСТРОЕК (СКРЫТЫЙ) -->
  <div id="settings-view" style="display: none;">
    <div class="header">
      <div class="logo" id="back-to-main" style="cursor: pointer;">
        <i class="fas fa-arrow-left"></i> Назад
      </div>
      <div class="icons">
        <i class="fas fa-cog"></i>
      </div>
    </div>
    <div class="settings-content">
      <h3>API Keys Management</h3>
      <textarea id="apiKeysInput" placeholder="Вставьте ключи Gemini (по 1 на строку)..."></textarea>
      
      <div class="key-meter">
        <div class="progress-bg"><div class="progress-fill" id="keyProgress"></div></div>
        <div class="key-count" id="keyCountText">0 ключей</div>
      </div>

      <button id="save-keys" class="adg-btn">Сохранить настройки</button>
      <button id="check-keys" class="adg-btn secondary">Проверить ключи</button>
      <div id="status-msg"></div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>