# –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ KSTU-AI

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
–ö–æ–¥ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã IIFE (Immediately Invoked Function Expression) –≤ content.js:

**–ú–æ–¥—É–ª–∏:**
- `CONFIG` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (API endpoints, –º–æ–¥–µ–ª–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- `UI` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (—Å—Ç–∞—Ç—É—Å, —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∞–π—Ç–∞)
- `Parser` - –ü–∞—Ä—Å–∏–Ω–≥ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `API` - API –∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è Gemini –∏ OpenRouter
- `Solver` - –õ–æ–≥–∏–∫–∞ —Ä–µ—à–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –õ–µ–≥–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Chrome Extensions –±–µ–∑ —Å–±–æ—Ä–∫–∏
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è

### 2. ‚úÖ –£–±—Ä–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ—á–∫–∏ (‚Ä¢) –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è –≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç
**–ß—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ:**
```javascript
// –°–¢–ê–†–´–ô –ö–û–î (—É–¥–∞–ª–µ–Ω):
if (ans.textElement && !ans.textElement.innerHTML.includes('&bull;')) {
    const m = document.createElement('span');
    m.innerHTML = '&bull;'; 
    m.style.color = MARKER_COLOR; 
    m.style.float = 'right';      
    m.style.marginLeft = '10px';  
    m.style.fontSize = '18px';    
    m.style.cursor = 'help';
    m.title = `AI: ${result.reason}`;
    ans.textElement.insertBefore(m, ans.textElement.firstChild);
}
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```javascript
// –¢–æ–ª—å–∫–æ –∫–ª–∏–∫ –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –æ—Ç–≤–µ—Ç—É, –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤
question.answers.forEach(ans => {
    if (result.correct.includes(ans.id)) {
        if (!ans.element.checked) {
            ans.element.click();
        }
    }
});
```

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ OpenRouter

**API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ OpenRouter API
- –î–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª—è–º: Claude 3.5 Sonnet, GPT-4 Turbo, Gemini Pro
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ù–æ–≤—ã–π UI:**
- –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ popup (Gemini / OpenRouter)
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è API –∫–ª—é—á–µ–π
- –ö–Ω–æ–ø–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π manifest.json:**
```json
"host_permissions": [
    "https://univer.kstu.kz/*",
    "https://generativelanguage.googleapis.com/*",
    "https://openrouter.ai/*",
    "<all_urls>"
]
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è IIFE –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥—É–ª–µ–π:

```javascript
const ModuleName = (function() {
    // –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let privateVar = null;
    
    // –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    function privateFunction() { }
    
    // –ü—É–±–ª–∏—á–Ω—ã–π API
    return {
        publicMethod: function() { }
    };
})();
```

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

**Gemini API:**
- –ú–æ–¥–µ–ª–∏: gemini-2.5-pro, gemini-2.5-flash
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Vision API)
- Rate limits: 2 RPM (Pro), 15 RPM (Flash)

**OpenRouter API:**
- –ú–æ–¥–µ–ª–∏: claude-3.5-sonnet, gpt-4-turbo, gemini-pro
- OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç
- JSON response format

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **Alt + S** - –†–µ—à–∏—Ç—å –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã
- **Alt + –ö–ª–∏–∫** - –†–µ—à–∏—Ç—å –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å
- –°—Ç–∞—Ç—É—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. ‚úÖ `content.js` - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
2. ‚úÖ `popup.html` - –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
3. ‚úÖ `popup.js` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–≤—É—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
4. ‚úÖ `manifest.json` - –û–±–Ω–æ–≤–ª–µ–Ω—ã permissions –∏ –≤–µ—Ä—Å–∏—è
5. ‚úÖ `README.md` - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
6. ‚úÖ `TEST_VERIFICATION.html` - –î–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
```bash
node --check content.js     # ‚úì PASSED
node --check popup.js       # ‚úì PASSED
node --check background.js  # ‚úì PASSED
python -m json.tool manifest.json  # ‚úì PASSED
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ Chrome (chrome://extensions/)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á (Gemini –∏–ª–∏ OpenRouter)
3. –ù–∞–∂–º–∏—Ç–µ "üß™ –¢–µ—Å—Ç" –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ç–µ—Å—Ç–æ–º
5. –ù–∞–∂–º–∏—Ç–µ Alt+S –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ Chrome Extension Manifest V3
- ‚úÖ –ë–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
- ‚úÖ ES5+ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∫–æ–¥
- ‚úÖ –ù–µ—Ç ES6 –º–æ–¥—É–ª–µ–π (import/export)

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ chrome.storage.sync
- –ù–∏–∫–∞–∫–∏—Ö –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–Ω–µ–∑–∞–º–µ—Ç–Ω–æ—Å—Ç—å)
- HTTPS –¥–ª—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. –í—ã–±–æ—Ä –º–µ–∂–¥—É Gemini –∏ OpenRouter
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
3. –ë–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–ª–µ–¥–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
4. –ú–æ–¥—É–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ª–µ–≥–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
